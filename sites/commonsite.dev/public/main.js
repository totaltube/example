(()=>{var oe=Object.create;var Y=Object.defineProperty;var re=Object.getOwnPropertyDescriptor;var ie=Object.getOwnPropertyNames;var le=Object.getPrototypeOf,se=Object.prototype.hasOwnProperty;var ce=(e,o)=>()=>(o||e((o={exports:{}}).exports,o),o.exports);var ue=(e,o,s,d)=>{if(o&&typeof o=="object"||typeof o=="function")for(let v of ie(o))!se.call(e,v)&&v!==s&&Y(e,v,{get:()=>o[v],enumerable:!(d=re(o,v))||d.enumerable});return e};var de=(e,o,s)=>(s=e!=null?oe(le(e)):{},ue(o||!e||!e.__esModule?Y(s,"default",{value:e,enumerable:!0}):s,e));var Z=ce((G,z)=>{(function(e,o){typeof G=="object"&&typeof z!="undefined"?z.exports=o():typeof define=="function"&&define.amd?define(o):(e=typeof globalThis!="undefined"?globalThis:e||self,e.autocomplete=o())})(G,function(){"use strict";function e(o){var s=document,d=s.createElement("div"),v=d.style,k=navigator.userAgent,_=k.indexOf("Firefox")!==-1&&k.indexOf("Mobile")!==-1,h=o.debounceWaitMs||0,I=o.preventSubmit||!1,H=o.disableAutoSelect||!1,i=_?"input":"keyup",t=[],n="",a=2,l=o.showOnFocus,r,g=0,f;if(o.minLength!==void 0&&(a=o.minLength),!o.input)throw new Error("input undefined");var c=o.input;d.className="autocomplete "+(o.className||""),v.position="absolute";function b(){var u=d.parentNode;u&&u.removeChild(d)}function p(){f&&window.clearTimeout(f)}function L(){d.parentNode||s.body.appendChild(d)}function w(){return!!d.parentNode}function T(){g++,t=[],n="",r=void 0,b()}function M(){if(!w())return;v.height="auto",v.width=c.offsetWidth+"px";var u=0,m;function y(){var E=s.documentElement,C=E.clientTop||s.body.clientTop||0,S=E.clientLeft||s.body.clientLeft||0,x=window.pageYOffset||E.scrollTop,A=window.pageXOffset||E.scrollLeft;m=c.getBoundingClientRect();var D=m.top+c.offsetHeight+x-C,X=m.left+A-S;v.top=D+"px",v.left=X+"px",u=window.innerHeight-(m.top+c.offsetHeight),u<0&&(u=0),v.top=D+"px",v.bottom="",v.left=X+"px",v.maxHeight=u+"px"}y(),y(),o.customize&&m&&o.customize(c,m,d,u)}function q(){for(;d.firstChild;)d.removeChild(d.firstChild);var u=function(S,x){var A=s.createElement("div");return A.textContent=S.label||"",A};o.render&&(u=o.render);var m=function(S,x){var A=s.createElement("div");return A.textContent=S,A};o.renderGroup&&(m=o.renderGroup);var y=s.createDocumentFragment(),E="#9?$";if(t.forEach(function(S){if(S.group&&S.group!==E){E=S.group;var x=m(S.group,n);x&&(x.className+=" group",y.appendChild(x))}var A=u(S,n);A&&(A.addEventListener("click",function(D){o.onSelect(S,c),T(),D.preventDefault(),D.stopPropagation()}),S===r&&(A.className+=" selected"),y.appendChild(A))}),d.appendChild(y),t.length<1)if(o.emptyMsg){var C=s.createElement("div");C.className="empty",C.textContent=o.emptyMsg,d.appendChild(C)}else{T();return}L(),M(),K()}function $(){w()&&q()}function N(){$()}function j(u){u.target!==d?$():u.preventDefault()}function F(u){for(var m=u.which||u.keyCode||0,y=[38,13,27,39,37,16,17,18,20,91,9],E=0,C=y;E<C.length;E++){var S=C[E];if(m===S)return}m>=112&&m<=123||m===40&&w()||J(0)}function K(){var u=d.getElementsByClassName("selected");if(u.length>0){var m=u[0],y=m.previousElementSibling;if(y&&y.className.indexOf("group")!==-1&&!y.previousElementSibling&&(m=y),m.offsetTop<d.scrollTop)d.scrollTop=m.offsetTop;else{var E=m.offsetTop+m.offsetHeight,C=d.scrollTop+d.offsetHeight;E>C&&(d.scrollTop+=E-C)}}}function P(){if(t.length<1)r=void 0;else if(r===t[0])r=t[t.length-1];else for(var u=t.length-1;u>0;u--)if(r===t[u]||u===1){r=t[u-1];break}}function W(){if(t.length<1&&(r=void 0),!r||r===t[t.length-1]){r=t[0];return}for(var u=0;u<t.length-1;u++)if(r===t[u]){r=t[u+1];break}}function O(u){var m=u.which||u.keyCode||0;if(m===38||m===40||m===27){var y=w();if(m===27)T();else{if(!y||t.length<1)return;m===38?P():W(),q()}u.preventDefault(),y&&u.stopPropagation();return}m===13&&(r&&(o.onSelect(r,c),T()),I&&u.preventDefault())}function R(){l&&J(1)}function J(u){var m=++g,y=c.value;y.length>=a||u===1?(p(),f=window.setTimeout(function(){o.fetch(y,function(E){g===m&&E&&(t=E,n=y,r=t.length<1||H?void 0:t[0],q())},u)},u===0?h:0)):T()}function Q(){setTimeout(function(){s.activeElement!==c&&T()},200)}d.addEventListener("mousedown",function(u){u.stopPropagation(),u.preventDefault()}),d.addEventListener("focus",function(){return c.focus()});function ae(){c.removeEventListener("focus",R),c.removeEventListener("keydown",O),c.removeEventListener(i,F),c.removeEventListener("blur",Q),window.removeEventListener("resize",N),s.removeEventListener("scroll",j,!0),p(),T()}return c.addEventListener("keydown",O),c.addEventListener(i,F),c.addEventListener("blur",Q),c.addEventListener("focus",R),window.addEventListener("resize",N),s.addEventListener("scroll",j,!0),{destroy:ae}}return e})});var ne=de(Z());function fe(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function ee(e,o){for(var s=0;s<o.length;s++){var d=o[s];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(e,d.key,d)}}function me(e,o,s){return o&&ee(e.prototype,o),s&&ee(e,s),e}function U(e){return ge(e)||he(e)||pe(e)||ve()}function ge(e){if(Array.isArray(e))return V(e)}function he(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}function pe(e,o){if(!!e){if(typeof e=="string")return V(e,o);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(s);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return V(e,o)}}function V(e,o){(o==null||o>e.length)&&(o=e.length);for(var s=0,d=new Array(o);s<o;s++)d[s]=e[s];return d}function ve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var te=function(){var e=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],o=function(){function i(t){var n=t.targetModal,a=t.triggers,l=a===void 0?[]:a,r=t.onShow,g=r===void 0?function(){}:r,f=t.onClose,c=f===void 0?function(){}:f,b=t.openTrigger,p=b===void 0?"data-micromodal-trigger":b,L=t.closeTrigger,w=L===void 0?"data-micromodal-close":L,T=t.openClass,M=T===void 0?"is-open":T,q=t.disableScroll,$=q===void 0?!1:q,N=t.disableFocus,j=N===void 0?!1:N,F=t.awaitCloseAnimation,K=F===void 0?!1:F,P=t.awaitOpenAnimation,W=P===void 0?!1:P,O=t.debugMode,R=O===void 0?!1:O;fe(this,i),this.modal=document.getElementById(n),this.config={debugMode:R,disableScroll:$,openTrigger:p,closeTrigger:w,openClass:M,onShow:g,onClose:c,awaitCloseAnimation:K,awaitOpenAnimation:W,disableFocus:j},l.length>0&&this.registerTriggers.apply(this,U(l)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}return me(i,[{key:"registerTriggers",value:function(){for(var n=this,a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];l.filter(Boolean).forEach(function(g){g.addEventListener("click",function(f){return n.showModal(f)})})}},{key:"showModal",value:function(){var n=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation){var l=function r(){n.modal.removeEventListener("animationend",r,!1),n.setFocusToFirstNode()};this.modal.addEventListener("animationend",l,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,a)}},{key:"closeModal",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,a=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,n),this.config.awaitCloseAnimation){var l=this.config.openClass;this.modal.addEventListener("animationend",function r(){a.classList.remove(l),a.removeEventListener("animationend",r,!1)},!1)}else a.classList.remove(this.config.openClass)}},{key:"closeModalById",value:function(n){this.modal=document.getElementById(n),this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(n){if(!!this.config.disableScroll){var a=document.querySelector("body");switch(n){case"enable":Object.assign(a.style,{overflow:""});break;case"disable":Object.assign(a.style,{overflow:"hidden"});break}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(n){n.target.hasAttribute(this.config.closeTrigger)&&this.closeModal(n)}},{key:"onKeydown",value:function(n){n.keyCode===27&&this.closeModal(n),n.keyCode===9&&this.retainFocus(n)}},{key:"getFocusableNodes",value:function(){var n=this.modal.querySelectorAll(e);return Array.apply(void 0,U(n))}},{key:"setFocusToFirstNode",value:function(){var n=this;if(!this.config.disableFocus){var a=this.getFocusableNodes();if(a.length!==0){var l=a.filter(function(r){return!r.hasAttribute(n.config.closeTrigger)});l.length>0&&l[0].focus(),l.length===0&&a[0].focus()}}}},{key:"retainFocus",value:function(n){var a=this.getFocusableNodes();if(a.length!==0)if(a=a.filter(function(r){return r.offsetParent!==null}),!this.modal.contains(document.activeElement))a[0].focus();else{var l=a.indexOf(document.activeElement);n.shiftKey&&l===0&&(a[a.length-1].focus(),n.preventDefault()),!n.shiftKey&&a.length>0&&l===a.length-1&&(a[0].focus(),n.preventDefault())}}}]),i}(),s=null,d=function(t,n){var a=[];return t.forEach(function(l){var r=l.attributes[n].value;a[r]===void 0&&(a[r]=[]),a[r].push(l)}),a},v=function(t){if(!document.getElementById(t))return console.warn("MicroModal: \u2757Seems like you have missed %c'".concat(t,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(t,'"></div>')),!1},k=function(t){if(t.length<=0)return console.warn("MicroModal: \u2757Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'),!1},_=function(t,n){if(k(t),!n)return!0;for(var a in n)v(a);return!0},h=function(t){var n=Object.assign({},{openTrigger:"data-micromodal-trigger"},t),a=U(document.querySelectorAll("[".concat(n.openTrigger,"]"))),l=d(a,n.openTrigger);if(!(n.debugMode===!0&&_(a,l)===!1))for(var r in l){var g=l[r];n.targetModal=r,n.triggers=U(g),s=new o(n)}},I=function(t,n){var a=n||{};a.targetModal=t,!(a.debugMode===!0&&v(t)===!1)&&(s&&s.removeEventListeners(),s=new o(a),s.showModal())},H=function(t){t?s.closeModalById(t):s.closeModal()};return{init:h,show:I,close:H}}();window.MicroModal=te;var B=te;document.addEventListener("DOMContentLoaded",function(){let e=window.globals;document.querySelectorAll(".dropdown > a").forEach(i=>i.addEventListener("click",t=>t.preventDefault())),document.querySelectorAll("[data-number]").forEach(function(i){try{i.innerHTML=parseInt(i.getAttribute("data-number")).toLocaleString(e.locale?e.locale.replace("_","-"):void 0)}catch{i.innerHTML=i.getAttribute("data-number")}});var o,s;function d(i){var a;let t,n=!1;return i.type==="model"?t=e.model:i.type==="channel"?t=e.channel:i.type==="category"?t=e.category:(t=e.search,t.includes("{query}")||(n=!0)),t=t.replace("{slug}",encodeURIComponent(i.slug||"")).replace("{id}",((a=i.id)==null?void 0:a.toString())||"").replace("{query}",encodeURIComponent(i.suggest||"")),e.multi_language&&(e.default_language!==e.lang||!e.no_redirect_default_language)&&(t=e.lang_template.replace("{lang}",e.lang).replace("{route}",t)),n&&(t+="?"+e.search_param+"="+encodeURIComponent(i.suggest)),t}document.querySelectorAll("input[name=q]").forEach(i=>{i.closest("form").addEventListener("submit",function(t){t.preventDefault();let n=e.search;e.multi_language&&(e.default_language!==e.lang||!e.no_redirect_default_language)&&(n=e.lang_template.replace("{lang}",e.lang).replace("{route}",e.search));var a=new URLSearchParams;a.set(e.search_natural_param,"true"),n.includes("{query}")?n=n.replace("{query}",encodeURIComponent(i.value)):a.set(e.search_param,i.value),window.location.href=n+"?"+a.toString()}),(0,ne.default)({input:i,emptyMsg:"",minLength:0,disableAutoSelect:!0,fetch:(t,n)=>{(async()=>{try{o&&o.abort(),o=new AbortController,s=o.signal}catch{}let a=e.autocomplete;e.multi_language&&(e.default_language!==e.lang||!e.no_redirect_default_language)&&(a=e.lang_template.replace("{lang}",e.lang).replace("{route}",e.autocomplete));try{let r=await(await fetch(`${a}?q=${encodeURIComponent(t)}`,{signal:s})).json();n(r)}catch(l){console.log(l),n([])}o=void 0,s=void 0})()},onSelect:t=>{window.location.href=d(t)},render:function(t,n){let a=document.createElement("div"),l=document.createElement("a");l.style.display="block",l.style.width="100%",l.style.position="relative",l.style.color="inherit",l.style.textDecoration="none",l.style.overflow="hidden";let r=document.createElement("span"),g=n.replace(/[-[\]{}()*+!<=:?.\/\\^$|#\s,]/g,"\\$&"),f=new RegExp(g,"gi");if(n.length>0){let b=t.suggest.split(f);for(let p=0;p<b.length;p++)if(r.appendChild(document.createTextNode(b[p])),p<b.length-1){let L=document.createElement("span");L.classList.add("highlight"),L.textContent=n,r.appendChild(L)}}else r.textContent=t.suggest;l.appendChild(r);let c=document.createElement("span");return c.textContent=t.total.toString(),c.style.position="absolute",c.style.right="0",c.classList.add("total"),l.appendChild(c),l.setAttribute("href",d(t)),a.appendChild(l),a}})}),document.querySelectorAll("a[data-new=true]").forEach(i=>{i.addEventListener("click",()=>{let t=i.getAttribute("href");try{let n="site-"+Math.random().toString(),a=window.open("",n);if(a){navigator.userAgent.match(/Firefox/i)&&(e.under?a.location.href=e.under:i.rel=""),i.href=t,i.target=n;return}}catch{}})}),document.querySelectorAll(".thumbs").forEach(i=>{i.addEventListener("click",t=>{let n=t.target;if(n.tagName!=="a"&&(n.closest(".dmca-link")?n=null:n=n.closest("a")),n&&n.matches("a.thumb-link")){let a=n.getAttribute("href"),l=n.getAttribute("data-id"),r=n.getAttribute("data-category-id")||"",g=n.getAttribute("data-thumb-id")||"-1",f=n.getAttribute("data-target")==="_blank",c=e.page_template==="top-categories"?"tca":e.page_template==="top-content"?"tc":e.page_template=="category"?"c":"",b=new URLSearchParams({t:c,cid:r,id:l,tid:g}),p=a;if(e.trade&&(p=e.trade_template.replace(/{{\s*encoded_url\s*}}/,encodeURIComponent(p)).replace(/{{\s*url\s*}}/,p)),f){let L=e.out+"?"+b.toString();try{let w="site-"+Math.random().toString(),T=window.open("",w);if(T){n.href=p,n.target=w,n.rel="noopener",navigator.userAgent.match(/Firefox/i)&&(e.under?T.location.href=e.under:n.rel=""),setTimeout(()=>n.setAttribute("href",a),300),fetch(L).then(M=>M.json()).then(M=>!M.success&&console.error(M));return}}catch{}}b.set("r",p),n.setAttribute("href",e.out+"?"+b.toString()),window.setTimeout(()=>n.setAttribute("href",a),300)}})});let v=!1,k=null,_=null;B.init();let h=document.querySelector("#dmca form");h.addEventListener("submit",i=>{i.preventDefault(),h.querySelectorAll(".success,.error").forEach(r=>{r.style.display="none"});let t=h.querySelector("[name=h-captcha-response]"),n="";t&&(n=t.value);let a={reason:h.querySelector("#reason").value,info:h.querySelector("#info").value,email:h.querySelector("#email").value,content_id:parseInt(h.querySelector("[name=content_id]").value),lang:e.lang,"h-captcha-response":n};sessionStorage.setItem("dmca-last-reason",a.reason),sessionStorage.setItem("dmca-last-email",a.email),sessionStorage.setItem("dmca-last-info",a.info);let l=e.dmca;e.multi_language&&(e.default_language!==e.lang||!e.no_redirect_default_language)&&(l=e.lang_template.replace("{route}",l).replace("{lang}",e.lang)),fetch(l,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)}).then(r=>{r.json().then(g=>{if(g.success){let f=h.querySelector(".success");f.style.display="block",_=setTimeout(()=>B.close("dmca"),3e3)}else if(g.value=="need captcha"&&!v){let f=document.createElement("script");f.onload=function(){k=window.hcaptcha.render(h.querySelector(".captcha-holder"),{sitekey:e.captcha_key}),v=!0;let b=h.querySelector(".error-captcha");b&&(b.style.display="block")},f.src="https://hcaptcha.com/1/api.js",document.head.appendChild(f)}else{let f=window.hcaptcha;if(f&&f.reset(k),g.value.includes("captcha")){let c=h.querySelector(".error-captcha");c&&(c.style.display="block")}else{let c=h.querySelector(".error-other");c&&(c.innerText="Error! "+(g.value||""),c.style.display="block")}}})})}),document.querySelectorAll(".dmca-link").forEach(i=>{i.addEventListener("click",t=>{t.preventDefault(),h.querySelectorAll(".error,.success").forEach(f=>{f.style.display="none"}),_&&(clearTimeout(_),_=null),h.querySelector("#reason").value=sessionStorage.getItem("dmca-last-reason")||"copyright",h.querySelector("#info").value=sessionStorage.getItem("dmca-last-info")||"",h.querySelector("#email").value=sessionStorage.getItem("dmca-last-email")||"",h.querySelector("[name=content_id]").value="",v&&k&&window.hcaptcha.reset(k);let n=i.closest(".thumb"),a=h.querySelector("#image-holder");a.innerHTML="";let l=i.getAttribute("data-thumb-url")||"";if(l==""&&n&&(l=n.querySelector("img").getAttribute("src")),l){let f=document.createElement("img");f.src=l,a.appendChild(f)}let r=h.querySelector("[name=content_id]"),g=i.getAttribute("data-id");if(g)r.value=g;else if(n){let f=n.querySelector("a[data-id]");if(f){let c=f.getAttribute("data-id");r.value=c||""}}B.show("dmca")})});let I;document.querySelectorAll(".thumb picture[data-thumb-number]").forEach(i=>{let t=parseInt(i.getAttribute("data-amount"));if(t>0){let n=parseInt(i.getAttribute("data-thumb-number")),a=n,l=i.querySelector("source"),r=i.querySelector("img"),g=r.src.replace(/\.(\d+)\.(webp|jpg|png)$/,".%d.$2"),f=l.srcset.includes("@2x."),c;i.addEventListener("mouseenter",b=>{c&&(clearTimeout(c),c=null);let p=()=>{I=document.createElement("img");let L=a+1;L>=t&&(L=0);let w=g.replace("%d",L.toString());I.setAttribute("src",w);let T=!1;I.addEventListener("load",()=>T=!0);let M=()=>{if(!T){c=setTimeout(M,200);return}r.src=w,l.srcset=f?w+", "+w.replace(/\.(jpg|webp|png)$/,"@2x.$1")+" 1.5x":w,a++,a>=t&&(a=0),setTimeout(p,0)};c=setTimeout(M,e.thumb_rotate_delay)};p()}),i.addEventListener("mouseleave",b=>{c&&(clearTimeout(c),c=null),a=n;let p=g.replace("%d",a.toString());r.src=p,l.srcset=f?p+", "+p.replace(/\.(jpg|webp|png)$/,"@2x.$1")+" 1.5x":p})}});let H=document.querySelector("#back-to-top");window.onscroll=()=>{document.body.scrollTop>200||document.documentElement.scrollTop>200?H.style.display="block":H.style.display="none"},H.addEventListener("click",i=>{i.preventDefault(),document.body.scrollTop=0,document.documentElement.scrollTop=0})});})();
