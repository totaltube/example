(()=>{var ae=Object.create;var Y=Object.defineProperty;var re=Object.getOwnPropertyDescriptor;var ie=Object.getOwnPropertyNames;var le=Object.getPrototypeOf,se=Object.prototype.hasOwnProperty;var ce=(n,a)=>()=>(a||n((a={exports:{}}).exports,a),a.exports);var ue=(n,a,s,d)=>{if(a&&typeof a=="object"||typeof a=="function")for(let v of ie(a))!se.call(n,v)&&v!==s&&Y(n,v,{get:()=>a[v],enumerable:!(d=re(a,v))||d.enumerable});return n};var de=(n,a,s)=>(s=n!=null?ae(le(n)):{},ue(a||!n||!n.__esModule?Y(s,"default",{value:n,enumerable:!0}):s,n));var Z=ce((G,z)=>{(function(n,a){typeof G=="object"&&typeof z!="undefined"?z.exports=a():typeof define=="function"&&define.amd?define(a):(n=typeof globalThis!="undefined"?globalThis:n||self,n.autocomplete=a())})(G,function(){"use strict";function n(a){var s=document,d=s.createElement("div"),v=d.style,k=navigator.userAgent,I=k.indexOf("Firefox")!==-1&&k.indexOf("Mobile")!==-1,g=a.debounceWaitMs||0,H=a.preventSubmit||!1,_=a.disableAutoSelect||!1,i=I?"input":"keyup",e=[],t="",o=2,l=a.showOnFocus,r,h=0,f;if(a.minLength!==void 0&&(o=a.minLength),!a.input)throw new Error("input undefined");var c=a.input;d.className="autocomplete "+(a.className||""),v.position="absolute";function b(){var u=d.parentNode;u&&u.removeChild(d)}function p(){f&&window.clearTimeout(f)}function L(){d.parentNode||s.body.appendChild(d)}function w(){return!!d.parentNode}function T(){h++,e=[],t="",r=void 0,b()}function M(){if(!w())return;v.height="auto",v.width=c.offsetWidth+"px";var u=0,m;function y(){var E=s.documentElement,C=E.clientTop||s.body.clientTop||0,S=E.clientLeft||s.body.clientLeft||0,x=window.pageYOffset||E.scrollTop,A=window.pageXOffset||E.scrollLeft;m=c.getBoundingClientRect();var D=m.top+c.offsetHeight+x-C,X=m.left+A-S;v.top=D+"px",v.left=X+"px",u=window.innerHeight-(m.top+c.offsetHeight),u<0&&(u=0),v.top=D+"px",v.bottom="",v.left=X+"px",v.maxHeight=u+"px"}y(),y(),a.customize&&m&&a.customize(c,m,d,u)}function q(){for(;d.firstChild;)d.removeChild(d.firstChild);var u=function(S,x){var A=s.createElement("div");return A.textContent=S.label||"",A};a.render&&(u=a.render);var m=function(S,x){var A=s.createElement("div");return A.textContent=S,A};a.renderGroup&&(m=a.renderGroup);var y=s.createDocumentFragment(),E="#9?$";if(e.forEach(function(S){if(S.group&&S.group!==E){E=S.group;var x=m(S.group,t);x&&(x.className+=" group",y.appendChild(x))}var A=u(S,t);A&&(A.addEventListener("click",function(D){a.onSelect(S,c),T(),D.preventDefault(),D.stopPropagation()}),S===r&&(A.className+=" selected"),y.appendChild(A))}),d.appendChild(y),e.length<1)if(a.emptyMsg){var C=s.createElement("div");C.className="empty",C.textContent=a.emptyMsg,d.appendChild(C)}else{T();return}L(),M(),K()}function $(){w()&&q()}function N(){$()}function j(u){u.target!==d?$():u.preventDefault()}function F(u){for(var m=u.which||u.keyCode||0,y=[38,13,27,39,37,16,17,18,20,91,9],E=0,C=y;E<C.length;E++){var S=C[E];if(m===S)return}m>=112&&m<=123||m===40&&w()||J(0)}function K(){var u=d.getElementsByClassName("selected");if(u.length>0){var m=u[0],y=m.previousElementSibling;if(y&&y.className.indexOf("group")!==-1&&!y.previousElementSibling&&(m=y),m.offsetTop<d.scrollTop)d.scrollTop=m.offsetTop;else{var E=m.offsetTop+m.offsetHeight,C=d.scrollTop+d.offsetHeight;E>C&&(d.scrollTop+=E-C)}}}function P(){if(e.length<1)r=void 0;else if(r===e[0])r=e[e.length-1];else for(var u=e.length-1;u>0;u--)if(r===e[u]||u===1){r=e[u-1];break}}function W(){if(e.length<1&&(r=void 0),!r||r===e[e.length-1]){r=e[0];return}for(var u=0;u<e.length-1;u++)if(r===e[u]){r=e[u+1];break}}function O(u){var m=u.which||u.keyCode||0;if(m===38||m===40||m===27){var y=w();if(m===27)T();else{if(!y||e.length<1)return;m===38?P():W(),q()}u.preventDefault(),y&&u.stopPropagation();return}m===13&&(r&&(a.onSelect(r,c),T()),H&&u.preventDefault())}function R(){l&&J(1)}function J(u){var m=++h,y=c.value;y.length>=o||u===1?(p(),f=window.setTimeout(function(){a.fetch(y,function(E){h===m&&E&&(e=E,t=y,r=e.length<1||_?void 0:e[0],q())},u)},u===0?g:0)):T()}function Q(){setTimeout(function(){s.activeElement!==c&&T()},200)}d.addEventListener("mousedown",function(u){u.stopPropagation(),u.preventDefault()}),d.addEventListener("focus",function(){return c.focus()});function oe(){c.removeEventListener("focus",R),c.removeEventListener("keydown",O),c.removeEventListener(i,F),c.removeEventListener("blur",Q),window.removeEventListener("resize",N),s.removeEventListener("scroll",j,!0),p(),T()}return c.addEventListener("keydown",O),c.addEventListener(i,F),c.addEventListener("blur",Q),c.addEventListener("focus",R),window.addEventListener("resize",N),s.addEventListener("scroll",j,!0),{destroy:oe}}return n})});var ne=de(Z());function fe(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function ee(n,a){for(var s=0;s<a.length;s++){var d=a[s];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}function me(n,a,s){return a&&ee(n.prototype,a),s&&ee(n,s),n}function U(n){return he(n)||ge(n)||pe(n)||ve()}function he(n){if(Array.isArray(n))return V(n)}function ge(n){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(n))return Array.from(n)}function pe(n,a){if(!!n){if(typeof n=="string")return V(n,a);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(s);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return V(n,a)}}function V(n,a){(a==null||a>n.length)&&(a=n.length);for(var s=0,d=new Array(a);s<a;s++)d[s]=n[s];return d}function ve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var te=function(){var n=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],a=function(){function i(e){var t=e.targetModal,o=e.triggers,l=o===void 0?[]:o,r=e.onShow,h=r===void 0?function(){}:r,f=e.onClose,c=f===void 0?function(){}:f,b=e.openTrigger,p=b===void 0?"data-micromodal-trigger":b,L=e.closeTrigger,w=L===void 0?"data-micromodal-close":L,T=e.openClass,M=T===void 0?"is-open":T,q=e.disableScroll,$=q===void 0?!1:q,N=e.disableFocus,j=N===void 0?!1:N,F=e.awaitCloseAnimation,K=F===void 0?!1:F,P=e.awaitOpenAnimation,W=P===void 0?!1:P,O=e.debugMode,R=O===void 0?!1:O;fe(this,i),this.modal=document.getElementById(t),this.config={debugMode:R,disableScroll:$,openTrigger:p,closeTrigger:w,openClass:M,onShow:h,onClose:c,awaitCloseAnimation:K,awaitOpenAnimation:W,disableFocus:j},l.length>0&&this.registerTriggers.apply(this,U(l)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}return me(i,[{key:"registerTriggers",value:function(){for(var t=this,o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];l.filter(Boolean).forEach(function(h){h.addEventListener("click",function(f){return t.showModal(f)})})}},{key:"showModal",value:function(){var t=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation){var l=function r(){t.modal.removeEventListener("animationend",r,!1),t.setFocusToFirstNode()};this.modal.addEventListener("animationend",l,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,o)}},{key:"closeModal",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,t),this.config.awaitCloseAnimation){var l=this.config.openClass;this.modal.addEventListener("animationend",function r(){o.classList.remove(l),o.removeEventListener("animationend",r,!1)},!1)}else o.classList.remove(this.config.openClass)}},{key:"closeModalById",value:function(t){this.modal=document.getElementById(t),this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(t){if(!!this.config.disableScroll){var o=document.querySelector("body");switch(t){case"enable":Object.assign(o.style,{overflow:""});break;case"disable":Object.assign(o.style,{overflow:"hidden"});break}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(t){t.target.hasAttribute(this.config.closeTrigger)&&this.closeModal(t)}},{key:"onKeydown",value:function(t){t.keyCode===27&&this.closeModal(t),t.keyCode===9&&this.retainFocus(t)}},{key:"getFocusableNodes",value:function(){var t=this.modal.querySelectorAll(n);return Array.apply(void 0,U(t))}},{key:"setFocusToFirstNode",value:function(){var t=this;if(!this.config.disableFocus){var o=this.getFocusableNodes();if(o.length!==0){var l=o.filter(function(r){return!r.hasAttribute(t.config.closeTrigger)});l.length>0&&l[0].focus(),l.length===0&&o[0].focus()}}}},{key:"retainFocus",value:function(t){var o=this.getFocusableNodes();if(o.length!==0)if(o=o.filter(function(r){return r.offsetParent!==null}),!this.modal.contains(document.activeElement))o[0].focus();else{var l=o.indexOf(document.activeElement);t.shiftKey&&l===0&&(o[o.length-1].focus(),t.preventDefault()),!t.shiftKey&&o.length>0&&l===o.length-1&&(o[0].focus(),t.preventDefault())}}}]),i}(),s=null,d=function(e,t){var o=[];return e.forEach(function(l){var r=l.attributes[t].value;o[r]===void 0&&(o[r]=[]),o[r].push(l)}),o},v=function(e){if(!document.getElementById(e))return console.warn("MicroModal: \u2757Seems like you have missed %c'".concat(e,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(e,'"></div>')),!1},k=function(e){if(e.length<=0)return console.warn("MicroModal: \u2757Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'),!1},I=function(e,t){if(k(e),!t)return!0;for(var o in t)v(o);return!0},g=function(e){var t=Object.assign({},{openTrigger:"data-micromodal-trigger"},e),o=U(document.querySelectorAll("[".concat(t.openTrigger,"]"))),l=d(o,t.openTrigger);if(!(t.debugMode===!0&&I(o,l)===!1))for(var r in l){var h=l[r];t.targetModal=r,t.triggers=U(h),s=new a(t)}},H=function(e,t){var o=t||{};o.targetModal=e,!(o.debugMode===!0&&v(e)===!1)&&(s&&s.removeEventListeners(),s=new a(o),s.showModal())},_=function(e){e?s.closeModalById(e):s.closeModal()};return{init:g,show:H,close:_}}();window.MicroModal=te;var B=te;document.addEventListener("DOMContentLoaded",function(){let n=window.globals;document.querySelectorAll(".dropdown > a").forEach(i=>i.addEventListener("click",e=>e.preventDefault())),document.querySelectorAll("[data-number]").forEach(function(i){try{i.innerHTML=parseInt(i.getAttribute("data-number")).toLocaleString(n.locale?n.locale.replace("_","-"):void 0)}catch{i.innerHTML=i.getAttribute("data-number")}});var a,s;function d(i){var o;let e,t=!1;return i.type==="model"?e=n.model:i.type==="channel"?e=n.channel:i.type==="category"?e=n.category:(e=n.search,e.includes("{query}")||(t=!0)),e=e.replace("{slug}",encodeURIComponent(i.slug||"")).replace("{id}",((o=i.id)==null?void 0:o.toString())||"").replace("{query}",encodeURIComponent(i.suggest||"")),n.multi_language&&(e=n.lang_template.replace("{lang}",n.lang).replace("{route}",e)),t&&(e+="?"+n.search_param+"="+encodeURIComponent(i.suggest)),e}document.querySelectorAll("input[name=q]").forEach(i=>{i.closest("form").addEventListener("submit",function(e){e.preventDefault();let t=n.search;n.multi_language&&(t=n.lang_template.replace("{lang}",n.lang).replace("{route}",n.search));var o=new URLSearchParams;o.set(n.search_natural_param,"true"),t.includes("{query}")?t=t.replace("{query}",encodeURIComponent(i.value)):o.set(n.search_param,i.value),window.location.href=t+"?"+o.toString()}),(0,ne.default)({input:i,emptyMsg:"",minLength:0,disableAutoSelect:!0,fetch:(e,t)=>{(async()=>{try{a&&a.abort(),a=new AbortController,s=a.signal}catch{}let o=n.autocomplete;n.multi_language&&(o=n.lang_template.replace("{lang}",n.lang).replace("{route}",n.autocomplete));try{let r=await(await fetch(`${o}?q=${encodeURIComponent(e)}`,{signal:s})).json();t(r)}catch(l){console.log(l),t([])}a=void 0,s=void 0})()},onSelect:e=>{window.location.href=d(e)},render:function(e,t){let o=document.createElement("div"),l=document.createElement("a");l.style.display="block",l.style.width="100%",l.style.position="relative",l.style.color="inherit",l.style.textDecoration="none",l.style.overflow="hidden";let r=document.createElement("span"),h=t.replace(/[-[\]{}()*+!<=:?.\/\\^$|#\s,]/g,"\\$&"),f=new RegExp(h,"gi");if(t.length>0){let b=e.suggest.split(f);for(let p=0;p<b.length;p++)if(r.appendChild(document.createTextNode(b[p])),p<b.length-1){let L=document.createElement("span");L.classList.add("highlight"),L.textContent=t,r.appendChild(L)}}else r.textContent=e.suggest;l.appendChild(r);let c=document.createElement("span");return c.textContent=e.total.toString(),c.style.position="absolute",c.style.right="0",c.classList.add("total"),l.appendChild(c),l.setAttribute("href",d(e)),o.appendChild(l),o}})}),document.querySelectorAll("a[data-new=true]").forEach(i=>{i.addEventListener("click",()=>{let e=i.getAttribute("href");try{let t="site-"+Math.random().toString(),o=window.open("",t);if(o){navigator.userAgent.match(/Firefox/i)&&(n.under?o.location.href=n.under:i.rel=""),i.href=e,i.target=t;return}}catch{}})}),document.querySelectorAll(".thumbs").forEach(i=>{i.addEventListener("click",e=>{let t=e.target;if(t.tagName!=="a"&&(t.closest(".dmca-link")?t=null:t=t.closest("a")),t&&t.matches("a.thumb-link")){let o=t.getAttribute("href"),l=t.getAttribute("data-id"),r=t.getAttribute("data-category-id")||"",h=t.getAttribute("data-thumb-id")||"-1",f=t.getAttribute("data-target")==="_blank",c=n.page_template==="top-categories"?"tca":n.page_template==="top-content"?"tc":n.page_template=="category"?"c":"",b=new URLSearchParams({t:c,cid:r,id:l,tid:h}),p=o;if(n.trade&&(p=n.trade_template.replace(/{{\s*encoded_url\s*}}/,encodeURIComponent(p)).replace(/{{\s*url\s*}}/,p)),f){let L=n.out+"?"+b.toString();try{let w="site-"+Math.random().toString(),T=window.open("",w);if(T){t.href=p,t.target=w,t.rel="noopener",navigator.userAgent.match(/Firefox/i)&&(n.under?T.location.href=n.under:t.rel=""),setTimeout(()=>t.setAttribute("href",o),300),fetch(L).then(M=>M.json()).then(M=>!M.success&&console.error(M));return}}catch{}}b.set("r",p),t.setAttribute("href",n.out+"?"+b.toString()),window.setTimeout(()=>t.setAttribute("href",o),300)}})});let v=!1,k=null,I=null;B.init();let g=document.querySelector("#dmca form");g.addEventListener("submit",i=>{i.preventDefault(),g.querySelectorAll(".success,.error").forEach(r=>{r.style.display="none"});let e=g.querySelector("[name=h-captcha-response]"),t="";e&&(t=e.value);let o={reason:g.querySelector("#reason").value,info:g.querySelector("#info").value,email:g.querySelector("#email").value,content_id:parseInt(g.querySelector("[name=content_id]").value),lang:n.lang,"h-captcha-response":t};sessionStorage.setItem("dmca-last-reason",o.reason),sessionStorage.setItem("dmca-last-email",o.email),sessionStorage.setItem("dmca-last-info",o.info);let l=n.dmca;n.multi_language&&(l=n.lang_template.replace("{route}",l).replace("{lang}",n.lang)),fetch(l,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include",body:JSON.stringify(o)}).then(r=>{r.json().then(h=>{if(h.success){let f=g.querySelector(".success");f.style.display="block",I=setTimeout(()=>B.close("dmca"),3e3)}else if(h.value=="need captcha"&&!v){let f=document.createElement("script");f.onload=function(){k=window.hcaptcha.render(g.querySelector(".captcha-holder"),{sitekey:n.captcha_key}),v=!0;let b=g.querySelector(".error-captcha");b&&(b.style.display="block")},f.src="https://hcaptcha.com/1/api.js",document.head.appendChild(f)}else{let f=window.hcaptcha;if(f&&f.reset(k),h.value.includes("captcha")){let c=g.querySelector(".error-captcha");c&&(c.style.display="block")}else{let c=g.querySelector(".error-other");c&&(c.innerText="Error! "+(h.value||""),c.style.display="block")}}})})}),document.querySelectorAll(".dmca-link").forEach(i=>{i.addEventListener("click",e=>{e.preventDefault(),g.querySelectorAll(".error,.success").forEach(f=>{f.style.display="none"}),I&&(clearTimeout(I),I=null),g.querySelector("#reason").value=sessionStorage.getItem("dmca-last-reason")||"copyright",g.querySelector("#info").value=sessionStorage.getItem("dmca-last-info")||"",g.querySelector("#email").value=sessionStorage.getItem("dmca-last-email")||"",g.querySelector("[name=content_id]").value="",v&&k&&window.hcaptcha.reset(k);let t=i.closest(".thumb"),o=g.querySelector("#image-holder");o.innerHTML="";let l=i.getAttribute("data-thumb-url")||"";if(l==""&&t&&(l=t.querySelector("img").getAttribute("src")),l){let f=document.createElement("img");f.src=l,o.appendChild(f)}let r=g.querySelector("[name=content_id]"),h=i.getAttribute("data-id");if(h)r.value=h;else if(t){let f=t.querySelector("a[data-id]");if(f){let c=f.getAttribute("data-id");r.value=c||""}}B.show("dmca")})});let H;document.querySelectorAll(".thumb picture[data-thumb-number]").forEach(i=>{let e=parseInt(i.getAttribute("data-amount"));if(e>0){let t=parseInt(i.getAttribute("data-thumb-number")),o=t,l=i.querySelector("source"),r=i.querySelector("img"),h=r.src.replace(/\.(\d+)\.(webp|jpg|png)$/,".%d.$2"),f=l.srcset.includes("@2x."),c;i.addEventListener("mouseenter",b=>{c&&(clearTimeout(c),c=null);let p=()=>{H=document.createElement("img");let L=o+1;L>=e&&(L=0);let w=h.replace("%d",L.toString());H.setAttribute("src",w);let T=!1;H.addEventListener("load",()=>T=!0);let M=()=>{if(!T){c=setTimeout(M,200);return}r.src=w,l.srcset=f?w+", "+w.replace(/\.(jpg|webp|png)$/,"@2x.$1")+" 1.5x":w,o++,o>=e&&(o=0),setTimeout(p,0)};c=setTimeout(M,n.thumb_rotate_delay)};p()}),i.addEventListener("mouseleave",b=>{c&&(clearTimeout(c),c=null),o=t;let p=h.replace("%d",o.toString());r.src=p,l.srcset=f?p+", "+p.replace(/\.(jpg|webp|png)$/,"@2x.$1")+" 1.5x":p})}});let _=document.querySelector("#back-to-top");window.onscroll=()=>{document.body.scrollTop>200||document.documentElement.scrollTop>200?_.style.display="block":_.style.display="none"},_.addEventListener("click",i=>{i.preventDefault(),document.body.scrollTop=0,document.documentElement.scrollTop=0})});})();
